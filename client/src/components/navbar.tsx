import { auth, defaultContext, modalClasses, useMainContext } from "../app";
import { useEffect, useState, KeyboardEvent } from "react";
import { signOut } from "firebase/auth";
import logger from "../config/logging";
import emailjs from 'emailjs-com'
import config from "../config";
import axios from "axios";
import "./navbar.css";

const FeedbackElement = () => {
  const { user } = useMainContext(),
    [value, setValue] = useState(""),

    sendFeedback = async (event: KeyboardEvent<HTMLTextAreaElement>) => {
      const sender_name = user.name,
        sender_email = user.email,
        feedback = event.currentTarget.value;

      if (!user.email && user.name === 'Guest') //Guests use emailJS because ...
        await emailjs.send(config.emailjs.serviceid, config.emailjs.templateID, {
          from_name: user.name,
          message: event.currentTarget.value,
          from_email: user.email
        }, config.emailjs.publicKey)
          .then(response => { logger.info(`Feedback sent succesfully, ${response.status}, ${response.text}`); setValue('Sent..') })
          .catch(error => { logger.error(`Send failed, ${error.message}`); setValue('Unable to send') })

      else
        await axios({
          method: "POST",
          url: `${config.server}/player/feedback`,
          data: { sender_name, sender_email, feedback },
        }).then((response) => {
          if (response.status !== (201 || 200 || 304)) { logger.error(`Unable to send feedback message`); setValue("Unable to send"); }
          else { logger.info("Feedback sent succesfully"); setValue("Sent..") }
        }).catch((error) => { logger.error(`Unable to send feedback message, ${error.message}`); setValue("Unable to send"); });
    }

  return (
    <div className="feedback-modal">
      <h3 className="title"> Help us improve! </h3>
      <span> Let us know what you think about the project, any comments or suggestions </span>
      <textarea
        className="scrollable"
        name="feedback" id="feedback"
        placeholder="Your feedback..."
        cols={25} rows={2} required value={value}
        onChange={(event) => setValue(event.target.value)}
        onKeyDown={(event) => {
          if (event.key === "Enter" && (event.ctrlKey || event.metaKey)
            && value !== ('' || 'Sending...' || 'Unable to send' || 'Sent...')) { setValue('Sending...'); sendFeedback(event) }
        }}
      > </textarea>
      <span>Press 'Ctrl + Enter' to submit</span>
    </div>
  );
};

export const Navbar = () => {
  const { activeModal, setActiveModal, darkTheme, toggleDarkTheme, user, setUser, } = useMainContext(),
    [navState, setNavState] = useState(false),
    [feedbackState, setFeedbackState] = useState(false),

    logOut = async () => await signOut(auth)
      .then(() => setUser!(defaultContext.user))
      .finally(() => window.location.reload());

  useEffect(() => {
    setNavState(false);
  }, [activeModal]);

  return (
    <div className="navbar">
      <div className="logotype">
        <svg className="icon logo" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M60.5771 25.5352H39.4454C34.1318 25.5395 29.0372 27.651 25.2788 31.4061C21.5204 35.1622 19.4045 40.2546 19.397 45.5684V64.5021C19.4046 69.8157 21.5204 74.908 25.2788 78.6645C29.0372 82.4199 34.1318 84.5312 39.4454 84.5354H60.5771C65.8906 84.531 70.9852 82.4196 74.7437 78.6645C78.5021 74.9083 80.6179 69.816 80.6255 64.5021V45.5684C80.6178 40.2549 78.502 35.1625 74.7437 31.4061C70.9852 27.6507 65.8906 25.5394 60.5771 25.5352V25.5352ZM77.4858 64.5016C77.4771 68.9816 75.6931 73.2769 72.5238 76.443C69.3533 79.6101 65.0572 81.3907 60.5771 81.3952H39.4454C34.9653 81.3908 30.6689 79.6101 27.4986 76.443C24.3292 73.2769 22.5454 68.9819 22.5367 64.5016V45.5679C22.5454 41.0878 24.3294 36.7925 27.4986 33.6265C30.6692 30.4593 34.9653 28.6788 39.4454 28.6743H60.5771C65.0572 28.6787 69.3536 30.4594 72.5238 33.6265C75.6932 36.7925 77.4771 41.0875 77.4858 45.5679V64.5016Z" stroke="black" />
          <path d="M52.1447 54.579H49.4135C47.4039 54.579 45.3472 54.4224 44.0121 55.7091C43.2773 56.4615 42.8907 57.4854 42.9444 58.5345C42.9356 60.1444 43.4744 61.7081 44.4732 62.9686C45.4719 64.2302 46.8715 65.114 48.4388 65.4743V73.5126C48.4388 74.38 49.1419 75.083 50.0092 75.083C50.8766 75.083 51.5797 74.38 51.5797 73.5126V65.4743C53.1369 65.1162 54.5279 64.2423 55.5254 62.9938C56.523 61.7454 57.0684 60.1957 57.0739 58.5978C57.1713 57.4534 56.7968 56.3189 56.0379 55.4582C54.9165 54.6412 53.5081 54.3236 52.1446 54.5788L52.1447 54.579ZM50.0092 62.4289C47.8452 62.4201 46.0929 60.6679 46.0842 58.5039C46.0656 58.309 46.104 58.113 46.1938 57.9388C46.7753 57.6815 47.4148 57.584 48.0467 57.6563H49.3029H52.2707C52.8829 57.6563 53.6999 57.5775 53.8411 57.6563H53.84C53.9397 57.9378 53.978 58.2378 53.9495 58.5346C53.9495 60.7117 52.1853 62.4761 50.0092 62.4761L50.0092 62.4289Z" stroke="black" />
          <path d="M13.1453 27.5754C13.1388 25.072 14.1299 22.6704 15.8974 20.8985C17.665 19.1267 20.0654 18.1311 22.569 18.1322C25.0714 18.1333 27.4707 19.1299 29.2372 20.9029C29.522 21.2347 29.9326 21.434 30.3696 21.4505C30.8066 21.468 31.2315 21.3015 31.5403 20.9916C31.8502 20.6828 32.0156 20.2579 31.9992 19.8209C31.9816 19.3839 31.7834 18.9744 31.4516 18.6896C29.0138 16.2464 25.678 14.9135 22.2285 15.0044C18.7776 15.0953 15.5174 16.6022 13.2123 19.1713C10.9071 21.7405 9.7606 25.1442 10.0418 28.5839C10.3232 32.0238 12.0076 35.1963 14.6993 37.3559C14.9797 37.5815 15.329 37.7031 15.6893 37.702C16.3486 37.6965 16.9345 37.2792 17.1557 36.6583C17.3769 36.0362 17.1853 35.343 16.6782 34.9225C14.4464 33.1363 13.1475 30.4335 13.1452 27.5753L13.1453 27.5754Z" stroke="black" />
          <path d="M77.4526 15.0142C74.1211 15.012 70.9245 16.3327 68.5667 18.6883C68.2349 18.973 68.0367 19.3826 68.0192 19.8195C68.0028 20.2565 68.1681 20.6814 68.478 20.9902C68.7869 21.3002 69.2118 21.4666 69.6487 21.4491C70.0857 21.4327 70.4964 21.2334 70.7811 20.9015C72.6188 19.1099 75.1092 18.1462 77.6739 18.2327C80.2398 18.3192 82.6589 19.4494 84.3718 21.3615C86.0848 23.2735 86.9432 25.8023 86.7483 28.3616C86.5545 30.921 85.3235 33.2908 83.3403 34.9214C82.8333 35.3419 82.6416 36.0351 82.8628 36.6571C83.0841 37.2781 83.67 37.6953 84.3292 37.7008C84.6895 37.7019 85.0389 37.5804 85.3192 37.3548C88.0319 35.17 89.7152 31.9557 89.9669 28.481C90.2188 25.0071 89.0153 21.5837 86.6453 19.03C84.2765 16.4772 80.9527 15.0229 77.4693 15.0142L77.4526 15.0142Z" stroke="black" />
          <path d="M39.8033 38.7842C36.3339 38.7842 27.2432 43.8712 27.2432 48.2046C27.2432 52.5381 30.0532 56.0546 33.5225 56.0546C36.9919 56.0546 42.943 50.9675 42.943 46.6341C42.943 42.3007 43.2727 38.7842 39.8033 38.7842Z" />
          <path d="M60.214 38.7842C56.7446 38.7842 57.0743 42.3007 57.0743 46.6341C57.0743 50.9675 63.0243 56.0546 66.4948 56.0546C69.9642 56.0546 72.7741 52.5381 72.7741 48.2046C72.7741 43.8712 63.6845 38.7842 60.214 38.7842Z" />
        </svg>

        <h6>jackblack's</h6>
      </div>
      <div className="nav">
        <svg className="icon theme" onClick={() => toggleDarkTheme!(!darkTheme)} viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          {darkTheme ? (
            <>
              <path d="M50 5.2085C51.7258 5.2085 53.125 6.60762 53.125 8.3335V12.5002C53.125 14.226 51.7258 15.6252 50 15.6252C48.2742 15.6252 46.875 14.226 46.875 12.5002V8.3335C46.875 6.60762 48.2742 5.2085 50 5.2085Z" />
              <path fillRule="evenodd" clipRule="evenodd" d="M26.0417 49.9998C26.0417 36.768 36.7682 26.0415 50.0001 26.0415C63.2317 26.0415 73.9584 36.768 73.9584 49.9998C73.9584 63.2315 63.2317 73.9582 50.0001 73.9582C36.7682 73.9582 26.0417 63.2315 26.0417 49.9998ZM50.0001 32.2915C40.22 32.2915 32.2917 40.2198 32.2917 49.9998C32.2917 59.7798 40.22 67.7082 50.0001 67.7082C59.7801 67.7082 67.7084 59.7798 67.7084 49.9998C67.7084 40.2198 59.7801 32.2915 50.0001 32.2915Z" />
              <path d="M22.7471 18.3274C21.5267 17.107 19.548 17.107 18.3277 18.3274C17.1072 19.5478 17.1072 21.5264 18.3277 22.7468L21.2739 25.6931C22.4943 26.9135 24.473 26.9135 25.6933 25.6931C26.9137 24.4727 26.9137 22.4941 25.6933 21.2737L22.7471 18.3274Z" />
              <path d="M94.7917 50C94.7917 51.7258 93.3925 53.125 91.6667 53.125H87.5C85.7742 53.125 84.375 51.7258 84.375 50C84.375 48.2742 85.7742 46.875 87.5 46.875H91.6667C93.3925 46.875 94.7917 48.2742 94.7917 50Z" />
              <path d="M81.6725 22.7468C82.8929 21.5264 82.8929 19.5478 81.6725 18.3274C80.4521 17.107 78.4733 17.107 77.2529 18.3274L74.3067 21.2737C73.0863 22.4941 73.0863 24.4727 74.3067 25.6931C75.5271 26.9135 77.5058 26.9135 78.7263 25.6931L81.6725 22.7468Z" />
              <path d="M50 84.375C51.7258 84.375 53.125 85.7742 53.125 87.5V91.6667C53.125 93.3925 51.7258 94.7917 50 94.7917C48.2742 94.7917 46.875 93.3925 46.875 91.6667V87.5C46.875 85.7742 48.2742 84.375 50 84.375Z" />
              <path d="M78.7263 74.3064C77.5059 73.086 75.5276 73.086 74.3072 74.3064C73.0867 75.5268 73.0867 77.5056 74.3072 78.726L77.2534 81.6723C78.4738 82.8927 80.4522 82.8927 81.6726 81.6723C82.893 80.4518 82.893 78.4731 81.6726 77.2527L78.7263 74.3064Z" />
              <path d="M15.6249 50C15.6249 51.7258 14.2258 53.125 12.4999 53.125H8.33325C6.60738 53.125 5.20825 51.7258 5.20825 50C5.20825 48.2742 6.60738 46.875 8.33325 46.875H12.4999C14.2258 46.875 15.6249 48.2742 15.6249 50Z" />
              <path d="M25.6931 78.726C26.9135 77.5056 26.9135 75.5268 25.6931 74.3064C24.4727 73.086 22.4941 73.086 21.2737 74.3064L18.3274 77.2527C17.107 78.4731 17.107 80.4518 18.3274 81.6723C19.5478 82.8927 21.5264 82.8927 22.7468 81.6723L25.6931 78.726Z" />
            </>
          ) : (<path fillRule="evenodd" clipRule="evenodd" d="M47.8594 19.8662C32.1746 20.9642 19.7915 34.0359 19.7915 49.9998C19.7915 66.6836 33.3163 80.2082 49.9998 80.2082C63.3661 80.2082 74.7069 71.5257 78.6865 59.4944C75.6236 60.7598 72.2669 61.4582 68.7498 61.4582C54.3673 61.4582 42.7082 49.799 42.7082 35.4165C42.7082 29.5868 44.6253 24.2044 47.8594 19.8662ZM13.5415 49.9998C13.5415 29.8645 29.8645 13.5415 49.9998 13.5415C51.8732 13.5415 53.7157 13.6831 55.5161 13.9566C56.7619 14.1458 57.7723 15.0645 58.0782 16.2868C58.3844 17.509 57.9269 18.7955 56.9173 19.5496C52.0798 23.1638 48.9582 28.9252 48.9582 35.4165C48.9582 46.3473 57.819 55.2082 68.7498 55.2082C73.4757 55.2082 77.8073 53.5557 81.2102 50.794C82.1882 50.0007 83.5469 49.8715 84.6565 50.4669C85.7665 51.0623 86.4107 52.2653 86.2902 53.519C84.5177 72.0048 68.9486 86.4582 49.9998 86.4582C29.8645 86.4582 13.5415 70.1353 13.5415 49.9998Z" />)}
        </svg>

        <button className="primary sign-in"
          onClick={() => setActiveModal!(modalClasses[4])}
          disabled={user.isLoggedIn && user.name !== "Guest"} //Disables sign up/in modal after user signs in succesfully
        >
          {user.isLoggedIn ? user.name.split(" ")[0] : "Sign up"}
        </button>

        <div className="dropdiv">
          <svg
            onClick={() => {
              setNavState(!navState);
              setFeedbackState(false);
            }}
            className="icon menu" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            {!navState ? (
              <>
                <path d="M15 65H85" strokeWidth="10" strokeLinecap="round" />
                <path d="M15 35H85" strokeWidth="10" strokeLinecap="round" />
              </>
            ) : (<path d="M49.9999 44.1074L23.4834 17.5908L17.5908 23.4834L44.1074 49.9999L17.5908 76.5166L23.4834 82.4091L49.9999 55.8924L76.5166 82.4091L82.4091 76.5166L55.8924 49.9999L82.4091 23.4834L76.5166 17.5908L49.9999 44.1074Z" />)}
          </svg>

          {navState && (
            <div className="drop-menu">
              <div className="drop-body">
                <div
                  className="drop-item"
                  onClick={() => setActiveModal!(modalClasses[0])}
                >
                  <svg className="icon spades" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                  >
                    <path d="M65.5807 87.5H34.5811L50.0812 71.9999L65.5807 87.5ZM50.0805 19.3493L31.4219 37.9975L22.4805 46.939C20.466 48.9628 19.3349 51.7022 19.3349 54.5579C19.3349 57.4136 20.4661 60.1531 22.4805 62.1769C24.5017 64.1932 27.2398 65.3251 30.0948 65.3251C32.9498 65.3251 35.6878 64.1932 37.709 62.1769L50.0798 49.8061L62.4506 62.1769C64.4718 64.1932 67.2099 65.3251 70.0649 65.3251C72.9199 65.3251 75.6579 64.1932 77.6791 62.1769C79.6936 60.1531 80.8248 57.4136 80.8248 54.5579C80.8248 51.7022 79.6936 48.9628 77.6791 46.939L68.7377 37.9975L50.0791 19.3493H50.0805ZM50.0791 12.5L72.1559 34.5768L81.0777 43.5183C84.009 46.4442 85.6565 50.4155 85.6565 54.557C85.6565 58.6986 84.0091 62.6699 81.0777 65.5958C78.1511 68.5245 74.1797 70.1698 70.0389 70.1698C65.8986 70.1698 61.9273 68.5244 59.0002 65.5958L50.0784 56.6544L41.137 65.5958C38.2104 68.5185 34.2437 70.1605 30.1076 70.1605C25.9721 70.1605 22.0048 68.5184 19.0788 65.5958C16.1475 62.6699 14.5 58.6986 14.5 54.557C14.5 50.4155 16.1474 46.4442 19.0788 43.5183L28.0203 34.5768L50.0791 12.5Z" />
                  </svg>
                  <span>Change icon theme</span>
                </div>

                <div
                  className="drop-item"
                  onClick={() => setActiveModal!(modalClasses[3])}
                >
                  <svg className="icon help" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                  >
                    <path d="M50 44.7915C51.7258 44.7915 53.125 46.1907 53.125 47.9165V68.7498C53.125 70.4757 51.7258 71.8748 50 71.8748C48.2742 71.8748 46.875 70.4757 46.875 68.7498V47.9165C46.875 46.1907 48.2742 44.7915 50 44.7915Z" />
                    <path d="M49.9999 37.4998C52.3012 37.4998 54.1666 35.6343 54.1666 33.3332C54.1666 31.032 52.3012 29.1665 49.9999 29.1665C47.6987 29.1665 45.8333 31.032 45.8333 33.3332C45.8333 35.6343 47.6987 37.4998 49.9999 37.4998Z" />
                    <path fillRule="evenodd" clipRule="evenodd" d="M30.4863 15.7034C43.3511 14.2655 56.6486 14.2655 69.5132 15.7034C77.1232 16.5539 83.2686 22.5482 84.1641 30.2022C85.7024 43.356 85.7024 56.6444 84.1641 69.7981C83.2686 77.4523 77.1232 83.4465 69.5132 84.2973C56.6486 85.7348 43.3511 85.7348 30.4863 84.2973C22.8764 83.4465 16.7309 77.4523 15.8357 69.7981C14.2973 56.6444 14.2973 43.356 15.8357 30.2022C16.7309 22.5482 22.8764 16.5539 30.4863 15.7034ZM68.8191 21.9147C56.4157 20.5284 43.5841 20.5284 31.1805 21.9147C26.412 22.4476 22.5951 26.2112 22.0434 30.9283C20.5614 43.5998 20.5614 56.4006 22.0434 69.0723C22.5951 73.7894 26.412 77.5527 31.1805 78.0856C43.5841 79.4719 56.4157 79.4719 68.8191 78.0856C73.5878 77.5527 77.4045 73.7894 77.9561 69.0723C79.4382 56.4006 79.4382 43.5998 77.9561 30.9283C77.4045 26.2112 73.5878 22.4476 68.8191 21.9147Z" />
                  </svg>
                  <span>Help</span>
                </div>

                <div className="drop-item">
                  <svg
                    className="icon sound" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                  >
                    <path fillRule="evenodd" clipRule="evenodd" d="M66.5301 23.7124C65.8222 18.0479 59.1301 15.4072 54.7447 19.0618L36.6584 34.1337C36.4712 34.2897 36.2352 34.3752 35.9915 34.3752H20.8334C16.8063 34.3752 13.5417 37.6397 13.5417 41.6668V58.3334C13.5417 62.3605 16.8063 65.6251 20.8334 65.6251H35.9915C36.2352 65.6251 36.4712 65.7105 36.6584 65.8668L54.7447 80.9384C59.1301 84.593 65.8222 81.9526 66.5301 76.288C68.7122 58.8305 68.7122 41.1697 66.5301 23.7124ZM58.7459 23.8632C59.3347 23.3725 60.2334 23.727 60.3284 24.4877C62.4463 41.4301 62.4463 58.5701 60.3284 75.5126C60.2334 76.2734 59.3347 76.628 58.7459 76.1372L40.6595 61.0651C39.3491 59.973 37.6973 59.3751 35.9915 59.3751H20.8334C20.2581 59.3751 19.7917 58.9089 19.7917 58.3334V41.6668C19.7917 41.0915 20.2581 40.6252 20.8334 40.6252H35.9915C37.6973 40.6252 39.3491 40.0271 40.6595 38.9351L58.7459 23.8632Z" />
                    <path d="M79.3013 33.1155C78.7059 31.4955 76.9105 30.6647 75.2905 31.26C73.6705 31.8552 72.8396 33.651 73.4346 35.271C75.1201 39.8582 76.0417 44.818 76.0417 50C76.0417 54.2984 75.4076 58.4434 74.2301 62.3488C74.1646 62.5663 74.0971 62.7834 74.0284 62.9992C73.8426 63.5813 73.6446 64.1584 73.4346 64.7292C72.8396 66.3492 73.6705 68.145 75.2905 68.7405C76.9105 69.3355 78.7059 68.5046 79.3013 66.8846C79.5421 66.2296 79.7692 65.5675 79.9826 64.8996C80.0617 64.6513 80.1388 64.4025 80.2142 64.153C81.5663 59.6684 82.2917 54.9163 82.2917 50C82.2917 44.0717 81.2367 38.3829 79.3013 33.1155Z" />
                  </svg>

                  <span>Sound</span>

                  <svg className="icon toggle" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                  >
                    <path d="M66.6667 35.4168C74.1034 35.4168 80.3242 41.096 81.1 48.4664C81.2069 49.4814 81.2069 50.5189 81.1 51.5339C80.3242 58.9042 74.1035 64.5835 66.6667 64.5835C59.2299 64.5835 53.0092 58.9042 52.2333 51.5339C52.1267 50.5189 52.1267 49.4814 52.2333 48.4664C53.0092 41.096 59.2299 35.4168 66.6667 35.4168Z" />
                    <path fillRule="evenodd" clipRule="evenodd" d="M66.3569 21.875L33.643 21.875C19.8034 21.875 8.02088 31.9433 5.86213 45.6138C5.40338 48.52 5.40338 51.48 5.86213 54.3863C8.02088 68.0567 19.8034 78.125 33.643 78.125L66.3569 78.125C80.1965 78.125 91.9793 68.0567 94.1378 54.3863C94.5967 51.48 94.5967 48.52 94.1378 45.6138C91.9793 31.9433 80.1965 21.875 66.3569 21.875ZM66.3569 28.125C77.1211 28.125 86.2854 35.9558 87.9642 46.5883C88.3212 48.8488 88.3212 51.1513 87.9642 53.4117C86.2854 64.0441 77.1211 71.875 66.3569 71.875H33.643C22.8788 71.875 13.7146 64.0441 12.0359 53.4117C11.6788 51.1513 11.6788 48.8488 12.0359 46.5883C13.7146 35.9558 22.8788 28.125 33.643 28.125L66.3569 28.125Z" />
                  </svg>
                </div>

                <div className="drop-item" onClick={() => setActiveModal!(modalClasses[1])}                >
                  <svg className="icon scoreboard" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                  >
                    <path d="M67.4128 9.2002H32.587C26.0571 9.2002 20.8333 14.2507 20.8333 20.1429V44.1326C20.8333 58.0218 31.7163 69.8064 45.6466 71.9106V84.116H32.587C29.975 84.116 28.2338 85.7993 28.2338 88.3247C28.2338 90.8501 29.975 92.5335 32.587 92.5335H67.4128C70.0249 92.5335 71.7662 90.8501 71.7662 88.3247C71.7662 85.7993 70.0249 84.116 67.4128 84.116H54.3533V71.9106C68.2837 69.8064 79.1666 58.4426 79.1666 44.1326V20.1429C79.1666 14.2507 73.9428 9.2002 67.4128 9.2002ZM70.4599 44.1326C70.4599 55.0756 61.3183 63.9139 49.9999 63.9139C38.6815 63.9139 29.5397 55.0756 29.5397 44.1326V20.1429C29.5397 18.8803 30.8457 17.6177 32.587 17.6177H67.4128C68.7187 17.6177 70.4599 18.8803 70.4599 20.1429V44.1326Z" />
                    <path d="M12.4999 13.3667C9.99992 13.3667 8.33325 15.0983 8.33325 17.6957V42.3708C8.33325 44.9683 9.99992 46.7 12.4999 46.7C14.9999 46.7 16.6666 44.9683 16.6666 42.3708V17.6957C16.6666 15.5312 14.9999 13.3667 12.4999 13.3667Z" />
                    <path d="M87.4999 13.3667C84.9999 13.3667 83.3333 15.0983 83.3333 17.6957V42.3708C83.3333 44.9683 84.9999 46.7 87.4999 46.7C89.9999 46.7 91.6666 44.9683 91.6666 42.3708V17.6957C91.6666 15.5312 89.9999 13.3667 87.4999 13.3667Z" />
                  </svg>
                  <span>Scoreboard</span>
                </div>

                <div className="divider"></div>

                <div className="drop-item feedback">
                  <svg className="icon feedback"
                    onClick={() => setFeedbackState(!feedbackState)} viewBox="0 0 100 100"
                    fill="none" xmlns="http://www.w3.org/2000/svg"
                  >
                    <path d="M33.3333 39.583C30.4568 39.583 28.125 41.9148 28.125 44.7914C28.125 47.6677 30.4568 49.9998 33.3333 49.9998C36.2098 49.9998 38.5417 47.6677 38.5417 44.7914C38.5417 41.9148 36.2098 39.583 33.3333 39.583Z" />
                    <path d="M49.9998 39.583C47.1232 39.583 44.7915 41.9148 44.7915 44.7914C44.7915 47.6677 47.1232 49.9998 49.9998 49.9998C52.8765 49.9998 55.2082 47.6677 55.2082 44.7914C55.2082 41.9148 52.8765 39.583 49.9998 39.583Z" />
                    <path d="M61.4585 44.7914C61.4585 41.9148 63.7902 39.583 66.6668 39.583C69.5435 39.583 71.8752 41.9148 71.8752 44.7914C71.8752 47.6677 69.5435 49.9998 66.6668 49.9998C63.7902 49.9998 61.4585 47.6677 61.4585 44.7914Z" />
                    <path fillRule="evenodd" clipRule="evenodd" d="M67.0861 19.1367C55.8602 18.1793 44.5761 18.1238 33.3412 18.9705L32.5361 19.0312C21.8224 19.8387 13.5415 28.7672 13.5415 39.5113V75.0001C13.5415 76.0997 14.1193 77.118 15.063 77.6822C16.0066 78.2464 17.1774 78.273 18.1458 77.7526L34.4408 68.9956C35.1988 68.5881 36.0458 68.3751 36.9063 68.3751H74.3082C79.0252 68.3751 83.0673 65.0026 83.9132 60.3618C85.6269 50.9568 85.7619 41.3319 84.3136 31.8823L83.8869 29.0976C83.1098 24.0278 78.9623 20.1495 73.8519 19.7136L67.0861 19.1367ZM33.811 25.2028C44.7123 24.3812 55.6623 24.4351 66.5552 25.364L73.3207 25.941C75.5557 26.1316 77.369 27.8276 77.709 30.0446L78.1357 32.8293C79.479 41.593 79.3536 50.5193 77.7644 59.2418C77.4598 60.9114 76.0052 62.1251 74.3082 62.1251H36.9063C35.0133 62.1251 33.1497 62.5939 31.4821 63.4901L19.7915 69.773V39.5113C19.7915 32.0367 25.5524 25.8253 33.0058 25.2636L33.811 25.2028Z" />
                  </svg>
                  <span onClick={() => setFeedbackState(!feedbackState)}>
                    Feedback
                  </span>

                  {feedbackState && <FeedbackElement />}
                </div>

                <a href="http://github.com/thierryntoh24/jackblackr" target="_blank" rel="noopener noreferrer"                >
                  <div className="drop-item">
                    <svg className="icon github" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                    >
                      <path d="M66.2654 90V75.2759C66.4081 73.4617 66.163 71.6379 65.5464 69.9258C64.9297 68.2136 63.9557 66.6523 62.689 65.3457C74.6357 64.0141 87.1911 59.4866 87.1911 38.7131C87.1901 33.4011 85.1468 28.2928 81.4841 24.4455C83.2184 19.7982 83.0958 14.6613 81.1416 10.1019C81.1416 10.1019 76.6521 8.7703 66.2654 15.7329C57.5451 13.3695 48.353 13.3695 39.6327 15.7329C29.2459 8.7703 24.7564 10.1019 24.7564 10.1019C22.8023 14.6613 22.6796 19.7982 24.414 24.4455C20.724 28.3214 18.6786 33.4758 18.707 38.8272C18.707 59.4485 31.2624 63.9761 43.2091 65.4599C41.9573 66.7534 40.992 68.2959 40.3758 69.9871C39.7596 71.6784 39.5064 73.4804 39.6327 75.2759V90M39.6327 78.586C20.6093 84.293 20.6093 69.0743 13 67.172L39.6327 78.586Z" strokeWidth="6" strokeLinecap="round" strokeLinejoin="round" />
                    </svg>
                    <span>View on Github</span>
                  </div>
                </a>

                {user.isLoggedIn && user.name !== "Guest" && (
                  <div className="drop-item" onClick={() => logOut()}>
                    <svg className="icon sign-out" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                    >
                      <path d="M50 76.0418C48.2742 76.0418 46.875 77.441 46.875 79.1668C46.875 80.8927 48.2742 82.2918 50 82.2918H75C79.0271 82.2918 82.2917 79.0273 82.2917 75.0002V25.0002C82.2917 20.9731 79.0271 17.7085 75 17.7085H50C48.2742 17.7085 46.875 19.1076 46.875 20.8335C46.875 22.5594 48.2742 23.9585 50 23.9585H75C75.5754 23.9585 76.0417 24.4249 76.0417 25.0002V75.0002C76.0417 75.5756 75.5754 76.0418 75 76.0418H50Z" />
                      <path fillRule="evenodd" clipRule="evenodd" d="M60.4297 59.8548C63.3059 59.8548 65.638 57.5231 65.638 54.6465V45.3111C65.638 42.4344 63.3059 40.1027 60.4297 40.1027H41.2104C41.1832 39.7968 41.1548 39.4909 41.1251 39.1851L40.9 36.869C40.5565 33.3352 36.804 31.2189 33.6022 32.7533C26.793 36.0166 20.6286 40.4822 15.4057 45.9352L14.9924 46.3669C13.0582 48.3865 13.0582 51.5711 14.9924 53.5906L15.4057 54.0223C20.6286 59.4752 26.793 63.9411 33.6022 67.2044C36.804 68.7386 40.5565 66.6223 40.9 63.0886L41.1251 60.7723C41.1548 60.4665 41.1832 60.1606 41.2104 59.8548H60.4297ZM38.313 53.6048C37.2032 53.6048 36.222 54.1852 35.6671 55.0665C35.3969 55.4956 35.2277 55.9961 35.1941 56.5352C35.1185 57.7473 35.0219 58.9581 34.9044 60.1677L34.839 60.8402C30.5222 58.6152 26.5132 55.8448 22.91 52.5994C21.9752 51.7573 21.0677 50.8836 20.1892 49.979C24.4539 45.5869 29.4022 41.9194 34.839 39.1175L34.9044 39.7898C35.0219 40.9993 35.1185 42.2102 35.1941 43.4223C35.2968 45.0694 36.6627 46.3527 38.313 46.3527H59.388V53.6048H38.313Z" />
                    </svg>
                    <span>Sign out</span>
                  </div>
                )}

                <div className="divider"></div>

                <div className="drop-footer">
                  <span> by{" "}
                    <a href="http://www.thierryntoh.webflow.io" target="_blank" rel="noopener noreferrer">thierry ntoh</a>{" "}
                    for{" "} <a href="https://instagram.com/hoellenstudio" target="_blank" rel="noopener noreferrer"  >  h√∂llenstudio  </a>
                  </span>
                  <div className="drop-footer-icons">
                    <a href="https://github.com/thierryntoh24" target="_blank" rel="noopener noreferrer"                    >
                      <svg className="icon github" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                      >
                        <path d="M66.2654 90V75.2759C66.4081 73.4617 66.163 71.6379 65.5464 69.9258C64.9297 68.2136 63.9557 66.6523 62.689 65.3457C74.6357 64.0141 87.1911 59.4866 87.1911 38.7131C87.1901 33.4011 85.1468 28.2928 81.4841 24.4455C83.2184 19.7982 83.0958 14.6613 81.1416 10.1019C81.1416 10.1019 76.6521 8.7703 66.2654 15.7329C57.5451 13.3695 48.353 13.3695 39.6327 15.7329C29.2459 8.7703 24.7564 10.1019 24.7564 10.1019C22.8023 14.6613 22.6796 19.7982 24.414 24.4455C20.724 28.3214 18.6786 33.4758 18.707 38.8272C18.707 59.4485 31.2624 63.9761 43.2091 65.4599C41.9573 66.7534 40.992 68.2959 40.3758 69.9871C39.7596 71.6784 39.5064 73.4804 39.6327 75.2759V90M39.6327 78.586C20.6093 84.293 20.6093 69.0743 13 67.172L39.6327 78.586Z" strokeWidth="6" strokeLinecap="round" strokeLinejoin="round" />
                      </svg>
                    </a>

                    <a href="http://twitter.com/thierryntoh24" target="_blank" rel="noopener noreferrer"                    >
                      <svg className="icon twitter" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                      >
                        <path fillRule="evenodd" clipRule="evenodd" d="M62.5896 13.931C64.7075 13.5682 67.0796 13.447 69.3121 13.8247C73.2991 14.4992 76.9817 16.3523 79.8929 19.1304C81.7958 19.1735 83.6658 18.7986 85.3204 18.2642C86.7208 17.8119 87.9042 17.2657 88.7329 16.8339C89.145 16.6192 89.4633 16.436 89.6704 16.312C89.7737 16.2501 89.8492 16.2033 89.8937 16.175L89.9333 16.1497C91.17 15.3259 92.8167 15.4862 93.8704 16.5342C94.9242 17.5823 95.0942 19.2278 94.2762 20.4691C93.4108 21.7828 92.2092 24.1248 90.8633 26.7488C90.6517 27.1614 90.4362 27.5809 90.2183 28.0045C89.4462 29.5044 88.6546 31.0203 87.9167 32.3208C87.4533 33.1374 86.9579 33.9665 86.4583 34.6829V35.8237C86.49 40.0138 86.0096 44.182 85.0342 48.237C84.4204 50.7886 83.6108 53.2953 82.61 55.7345C80.0167 62.0536 76.19 67.7932 71.3537 72.617C66.5171 77.4411 60.7679 81.2528 54.4421 83.8303C48.1217 86.4049 41.3518 87.6957 34.5274 87.6274C24.6344 87.6361 14.9496 84.7857 6.63823 79.4195C5.41406 78.629 4.89865 77.0974 5.3959 75.7278C5.89311 74.3578 7.27102 73.5136 8.71715 73.6928C9.96865 73.8478 11.2287 73.9232 12.4897 73.919C17.0208 73.9065 21.4655 72.9053 25.5233 71.019C24.2335 70.432 23.0021 69.7082 21.8514 68.8549C18.4693 66.347 15.953 62.847 14.6527 58.8424C14.3148 57.802 14.5458 56.6603 15.2617 55.8328C15.2745 55.8178 15.2875 55.8032 15.3006 55.7886C14.5359 55.107 13.8203 54.3645 13.1616 53.5661C10.1978 49.9736 8.56577 45.4674 8.54169 40.8102L8.54161 40.794L8.54165 40.5857C8.54165 39.478 9.12811 38.453 10.0831 37.8916C10.3252 37.7493 10.5818 37.6422 10.8458 37.5704C9.43606 34.7575 8.70294 31.6515 8.70831 28.5005C8.70665 24.9306 9.63915 21.4224 11.4131 18.3245C11.9253 17.4302 12.8454 16.8458 13.8726 16.7626C14.8998 16.6794 15.902 17.1079 16.5514 17.9081C20.5621 22.8498 25.5674 26.8925 31.2424 29.7737C34.1596 31.2548 37.2202 32.4118 40.3694 33.2303C42.135 33.6892 43.9283 34.0416 45.74 34.285C45.66 31.2715 46.255 28.2595 47.5042 25.4765C49.3362 21.3939 52.4712 18.0348 56.4183 15.9261C58.0896 15.033 60.3083 14.3218 62.5896 13.931ZM15.5969 45.379C16.1371 46.8995 16.9408 48.3257 17.9826 49.5886C20.0299 52.0699 22.8713 53.7682 26.0264 54.3957C27.4317 54.6753 28.4669 55.8749 28.5378 57.3061C28.6087 58.737 27.6973 60.0332 26.3265 60.4503C25.1911 60.7957 24.0278 61.0365 22.8514 61.1703C23.6288 62.1724 24.5433 63.0703 25.5741 63.8345C27.9124 65.5682 30.733 66.5303 33.6435 66.5861C34.9639 66.6115 36.1259 67.4645 36.546 68.7165C36.9661 69.969 36.5537 71.3499 35.5157 72.1665C31.1442 75.6065 26.0892 78.0049 20.7327 79.2295C25.1723 80.6511 29.8283 81.3832 34.5378 81.3774H34.5741C40.5744 81.4395 46.5267 80.3061 52.0837 78.042C57.6412 75.7782 62.6912 72.4295 66.94 68.192C71.1883 63.9545 74.5496 58.9128 76.8279 53.3615C77.7071 51.2186 78.4183 49.017 78.9575 46.7757C79.815 43.2099 80.2371 39.5446 80.2083 35.8602V35.8357V33.6274C80.2083 32.8697 80.4837 32.1378 80.9829 31.5679C81.2717 31.2385 81.7767 30.4779 82.4808 29.2366C83.15 28.0569 83.8908 26.6407 84.6612 25.144C84.7079 25.0535 84.7546 24.9625 84.8017 24.8712C82.8033 25.3051 80.5383 25.5325 78.1642 25.276C77.4125 25.1947 76.7154 24.8435 76.2025 24.2875C74.1075 22.0153 71.3171 20.5028 68.2696 19.9871C66.9175 19.7584 65.2825 19.8108 63.6446 20.0913C61.865 20.3962 60.3162 20.9295 59.3633 21.4386C56.6371 22.8951 54.4716 25.2153 53.2062 28.0353C51.9408 30.8552 51.6471 34.0154 52.3712 37.0202C52.6021 37.9782 52.3679 38.9889 51.7387 39.7474C51.1096 40.5058 50.1596 40.9232 49.1754 40.8734C45.6612 40.6956 42.1842 40.1596 38.7972 39.2793C35.2143 38.3481 31.7321 37.0317 28.413 35.3466C23.5264 32.8657 19.0762 29.6278 15.2227 25.7625C15.0469 26.6608 14.9577 27.5776 14.9583 28.5003V28.5083C14.9539 30.803 15.5171 33.0631 16.5975 35.0875C17.678 37.1118 19.2422 38.8376 21.1511 40.1112C22.3095 40.8841 22.8167 42.3303 22.3948 43.6574C21.9729 44.9845 20.7237 45.8724 19.3316 45.8345C18.0709 45.8003 16.8206 45.647 15.5969 45.379Z" />
                      </svg>
                    </a>

                    <a href="http://instagram.com/thierryntoh24" target="_blank" rel="noopener noreferrer"                    >
                      <svg className="icon instagram" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"                      >
                        <path d="M50.2678 29.3361C38.8396 29.3361 29.6217 38.5541 29.6217 49.9822C29.6217 61.4103 38.8396 70.6283 50.2678 70.6283C61.6959 70.6283 70.9139 61.4103 70.9139 49.9822C70.9139 38.5541 61.6959 29.3361 50.2678 29.3361ZM50.2678 63.4048C42.8826 63.4048 36.8451 57.3853 36.8451 49.9822C36.8451 42.5791 42.8646 36.5595 50.2678 36.5595C57.6709 36.5595 63.6904 42.5791 63.6904 49.9822C63.6904 57.3853 57.6529 63.4048 50.2678 63.4048V63.4048ZM76.574 28.4916C76.574 31.1689 74.4178 33.3072 71.7584 33.3072C69.081 33.3072 66.9428 31.151 66.9428 28.4916C66.9428 25.8322 69.099 23.676 71.7584 23.676C74.4178 23.676 76.574 25.8322 76.574 28.4916ZM90.2482 33.3791C89.9428 26.9283 88.4693 21.2142 83.7435 16.5064C79.0357 11.7986 73.3217 10.3252 66.8709 10.0018C60.2225 9.62441 40.2951 9.62441 33.6467 10.0018C27.2139 10.3072 21.4998 11.7807 16.774 16.4885C12.0482 21.1963 10.5928 26.9103 10.2693 33.3611C9.89199 40.0095 9.89199 59.9369 10.2693 66.5853C10.5748 73.0361 12.0482 78.7501 16.774 83.4579C21.4998 88.1658 27.1959 89.6392 33.6467 89.9626C40.2951 90.34 60.2225 90.34 66.8709 89.9626C73.3217 89.6572 79.0357 88.1837 83.7435 83.4579C88.4513 78.7501 89.9248 73.0361 90.2482 66.5853C90.6256 59.9369 90.6256 40.0275 90.2482 33.3791V33.3791ZM81.6592 73.7189C80.2576 77.2408 77.5443 79.954 74.0045 81.3736C68.7037 83.4759 56.1256 82.9908 50.2678 82.9908C44.41 82.9908 31.8139 83.4579 26.5311 81.3736C23.0092 79.972 20.2959 77.2587 18.8764 73.7189C16.774 68.4181 17.2592 55.84 17.2592 49.9822C17.2592 44.1244 16.792 31.5283 18.8764 26.2455C20.2779 22.7236 22.9912 20.0103 26.5311 18.5908C31.8318 16.4885 44.41 16.9736 50.2678 16.9736C56.1256 16.9736 68.7217 16.5064 74.0045 18.5908C77.5264 19.9924 80.2396 22.7057 81.6592 26.2455C83.7615 31.5463 83.2763 44.1244 83.2763 49.9822C83.2763 55.84 83.7615 68.4361 81.6592 73.7189Z" />
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default Navbar;
